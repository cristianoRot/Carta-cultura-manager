<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carta Cultura Giovani</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Gestione Carta Cultura Giovani</h1>

    <section id="userRegistration">
        <h2>Registrazione Utente</h2>
        <form id="registrationForm">
            <div>
                <label for="regName">Nome:</label>
                <input type="text" id="regName" name="regName" required>
            </div>
            <div>
                <label for="regSurname">Cognome:</label>
                <input type="text" id="regSurname" name="regSurname" required>
            </div>
            <div>
                <label for="regEmail">Email:</label>
                <input type="email" id="regEmail" name="regEmail" required>
            </div>
            <div>
                <label for="regFiscalCode">Codice Fiscale:</label>
                <input type="text" id="regFiscalCode" name="regFiscalCode" required minlength="16" maxlength="16">
            </div>
            <button type="button" id="registerUserBtn">Registra Utente</button>
        </form>
        <div id="registrationStatus"></div>
    </section>

    <hr>

    <section id="userLookup">
        <h2>Ricerca Utente e Contributo</h2>
        <div>
            <label for="lookupFiscalCode">Codice Fiscale Utente:</label>
            <input type="text" id="lookupFiscalCode" name="lookupFiscalCode" minlength="16" maxlength="16">
            <button type="button" id="lookupUserBtn">Cerca Utente</button>
        </div>
        <div id="lookupStatus"></div>

        <div id="userDataDisplay" style="display: none;">
            <h3>Dati Utente</h3>
            <p><strong>Nome:</strong> <span id="userName"></span></p>
            <p><strong>Cognome:</strong> <span id="userSurname"></span></p>
            <p><strong>Email:</strong> <span id="userEmail"></span></p>

            <h4>Stato Contributo</h4>
            <p><strong>Disponibile:</strong> €<span id="contribAvailable"></span></p>
            <p><strong>Allocato (non speso):</strong> €<span id="contribAllocated"></span></p>
            <p><strong>Speso:</strong> €<span id="contribSpent"></span></p>
            <p><strong>Totale:</strong> €<span id="contribTotal"></span></p>
        </div>
    </section>

    <hr>

    <section id="voucherManagement">
        <h2>Gestione Buoni</h2>
        <div id="voucherStatus"></div>

        <h3>Genera Nuovo Buono</h3>
        <form id="generateVoucherForm">
            <div>
                <label for="voucherAmount">Importo (€):</label>
                <input type="number" id="voucherAmount" name="voucherAmount" step="0.01" required min="0.01">
            </div>
            <div>
                <label for="voucherCategory">Categoria:</label>
                <select id="voucherCategory" name="voucherCategory" required>
                    <option value="">Seleziona una categoria</option>
                    <option value="cinema">Cinema</option>
                    <option value="musica">Musica (CD, vinili, streaming)</option>
                    <option value="concerti">Concerti</option>
                    <option value="eventi culturali">Eventi Culturali</option>
                    <option value="libri">Libri (inclusi e-book)</option>
                    <option value="musei">Musei, Monumenti, Parchi</option>
                    <option value="strumenti musicali">Strumenti Musicali</option>
                    <option value="teatro e danza">Teatro e Danza</option>
                </select>
            </div>
            <button type="button" id="generateVoucherBtn">Genera Buono</button>
        </form>

        <h3>I Tuoi Buoni</h3>
        <div id="voucherList">
            <!-- Voucher items will be dynamically inserted here -->
        </div>
    </section>

    <hr>

    <section id="systemStatusSection">
        <h2>Stato Globale del Sistema</h2>
        <button type="button" id="refreshStatsBtn">Aggiorna Statistiche</button>
        <div id="systemStatsStatus"></div>
        <div id="systemStatsDisplay">
            <p>Numero di utenti registrati: <strong id="statsTotalUsers">N/D</strong></p>
            <p>Somma dei contributi disponibili: €<strong id="statsTotalContribAvailable">N/D</strong></p>
            <p>Somma dei contributi assegnati (non spesi): €<strong id="statsTotalContribAllocated">N/D</strong></p>
            <p>Somma dei contributi spesi: €<strong id="statsTotalContribSpent">N/D</strong></p>
            <p>Numero dei buoni generati: <strong id="statsTotalVouchersGenerated">N/D</strong></p>
            <p>Numero dei buoni consumati: <strong id="statsTotalVouchersConsumed">N/D</strong></p>
        </div>
    </section>

    <script src="script.js"></script>
</body>

</html>